/*
class Node
{
    public:
    int data;
    Node *left, *right;
    Node(int val)
    {
        data = val;
        left = right = NULL;
    }
};
*/

class Solution {
  public:
  Node*first=NULL;
  Node*middle=NULL;
  Node*last=NULL;
  Node*prev=NULL;
  
  void inordered(Node* root)
  {
      if(root==NULL)
      {
          return;
      }
      inordered(root->left);
      if(prev && root->data<prev->data)
      {
          if(first==NULL)
          {
              first=prev;
              middle=root;
          }else{
              last=root;
          }
      }
      prev=root;
      inordered(root->right);
      
      
  }
    void correctBST(Node* root) {
        // add code here.
        inordered(root);
        if(first!=NULL && last!=NULL)
        {
            swap(first->data,last->data);
        }else if(first!=NULL && middle!=NULL)
        {
            swap(first->data,middle->data);
        }
    }
};
